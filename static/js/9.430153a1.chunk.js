(this["webpackJsonpcovid19-pandemic-dashboard"]=this["webpackJsonpcovid19-pandemic-dashboard"]||[]).push([[9],{1251:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(3),c=a(141),i=a(155),s=a(882),o=a(129),l=a(291),u=a(43),d=a(1047),j=a(294),b=a(296),m=a(919),v=a(598),f=a(1048),h=a(185),O=a(187),C=a(289),g={covidCasesContinent:function(e){var t=C.a.None;return e>=5e4?(t=C.a.Warning,e>=15e4&&(t=C.a.Error)):e>=25e3&&(t=C.a.Information),t},covidCasesCountries:function(e){var t=C.a.None;return e>=5e6?(t=C.a.Warning,e>=105e5&&(t=C.a.Error)):e>=1e6?t=C.a.Information:e<=5e5&&(t=C.a.Success),t},covidRecovered:function(e){var t=C.a.None;return e>=55?(t=C.a.Warning,e>=70&&(t=C.a.Information,e>=90&&(t=C.a.Success))):e<=45&&(t=C.a.Error),t},localeNumber:function(e){return Intl.NumberFormat().format(e)}},p={countryCard:{width:"20rem"},continentItem:{height:"4rem"}},x=function(e){var t=e.items,a=e.loading,c=Object(s.a)().t,i=Object(r.useState)([]),l=Object(u.a)(i,2),d=l[0],C=l[1];return Object(r.useEffect)((function(){if(0===d.length){var e=t.map((function(e){return e}));C(e)}}),[d.length,t]),Object(n.jsxs)(b.a,{separators:v.a.Inner,children:[a&&Object(n.jsx)(f.a,{}),d.map((function(e,t){return Object(n.jsxs)(m.a,{datatype:e,description:c("description.population")+e.population,style:p.continentItem,info:g.localeNumber(e.todayCases),infoState:g.covidCasesContinent(e.todayCases),selected:"false","data-id":e.continent,type:"Inactive",children:[Object(n.jsx)(o.a,{children:Object(n.jsx)(h.a,{level:O.a.H4,children:c(e.continent)})}),Object(n.jsx)(j.a,{name:"group"})]},t)}))]})},I=a(1249),w=function(e){var t=e.items,a=e.loading,c=Object(r.useState)([]),i=Object(u.a)(c,2),o=i[0],l=i[1],d=Object(s.a)().t;return Object(r.useEffect)((function(){if(0===o.length){var e=t.map((function(e){return e}));e.sort((function(e,t){return t.cases-e.cases})),l(e)}}),[o.length,t]),Object(n.jsx)(I.a,{loading:a,chartConfig:{innerRadius:"45%",outerRadius:"80%",activeSegment:0,showActiveSegmentDataLabel:!0},dataset:o,dimension:{accessor:"continent",formatter:d},measure:{accessor:"cases",formatter:g.localeNumber},style:{width:"100%"},noAnimation:!1})},y=a(301),S=a(1247),P=a(1254),H=a(135),N={KPIstyles:{height:"6.5rem",width:"15rem",marginBottom:"1rem"}},K=function(e){var t=e.title,a=e.value,r=e.unit,c=e.valueState,i=e.arrow,o=e.subtitle,l=Object(s.a)().t;return Object(n.jsx)(S.a,{header:Object(n.jsx)(P.a,{arrowIndicator:i||"Up",subTitle:l(o),counter:l("counterKPI"),indicatorState:c||C.a.None,title:l(t),unit:l(r),value:g.localeNumber(a),valueState:c||C.a.None}),style:N.KPIstyles})},E=function(e){var t=e.items,a=(Object(s.a)().t,t?t.reduce((function(e,t){return e+t.todayCases}),0):0),r=t?t.reduce((function(e,t){return e+t.todayRecovered}),0):0,c=t?t.reduce((function(e,t){return e+t.todayDeaths}),0):0,i=t?parseFloat(t.reduce((function(e,t){return e+t.criticalPerOneMillion}),0)).toFixed(2):0;return Object(n.jsxs)(o.a,{direction:H.a.Column,children:[Object(n.jsx)(K,{title:"casesKPITitle",unit:"casesKPIUnit",value:a}),Object(n.jsx)(K,{title:"criticalKPITitle",unit:"casesKPIUnit",value:i,valueState:C.a.Warning,subtitle:"criticalKPISubtitle"}),Object(n.jsx)(K,{title:"recoveredKPITitle",unit:"recoveredKPIUnit",value:r,valueState:C.a.Success}),Object(n.jsx)(K,{title:"deathsKPITTitle",unit:"deathsKPIUnit",value:c,valueState:C.a.Error})]})},T={continentsCard:{width:"400px",height:"29.5rem",marginBottom:"1rem"}},U=function(){var e=Object(s.a)().t,t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],i=a[1],o=Object(r.useState)(!1),l=Object(u.a)(o,2),b=l[0],m=l[1],v=Object(r.useState)([]),f=Object(u.a)(v,2),h=f[0],O=f[1];return Object(r.useEffect)((function(){0===h.length&&y.a.read("ContinentsSet").then((function(e){e.data.forEach((function(e){return e.population=g.localeNumber(e.population)})),O(e.data)}))}),[h.length]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{heading:e("continentsCardHeader"),avatar:Object(n.jsx)(j.a,{name:"globe"}),subheading:e(c?"continentsCardSubHeaderList":"continentsCardSubHeaderChart"),style:T.continentsCard,headerInteractive:!0,onHeaderClick:function(){m(!0),setTimeout((function(){m(!1),i(!c)}),1e3)},tooltip:e("continentsCardTol"),children:c?Object(n.jsx)(x,{items:h,loading:b}):Object(n.jsx)(w,{items:h,loading:b})}),Object(n.jsx)(E,{items:h})]})},W=a(143),R=a(1248),F=a(1034),k={listItem:{height:"4rem"},list:{height:"20rem"}},A=function(e){var t=e.items,a=Object(s.a)().t,c=Object(r.useState)([]),i=Object(u.a)(c,2),d=i[0],j=i[1];return Object(r.useEffect)((function(){if(0===d.length){var e=t.map((function(e){return e}));j(e)}}),[d.length,t]),Object(n.jsx)(b.a,{style:k.list,separators:v.a.Inner,children:d.map((function(e){return Object(n.jsx)(m.a,{style:k.listItem,info:g.localeNumber(e.cases),infoState:g.covidCasesCountries(e.cases),image:e.countryInfo.flag,children:Object(n.jsxs)(o.a,{wrap:l.a,direction:H.a.Column,children:[Object(n.jsx)(h.a,{level:O.a.H4,children:e.country}),Object(n.jsx)(R.a,{value:e.recovered/e.cases*100,valueState:g.covidRecovered(e.recovered/e.cases*100)}),Object(n.jsx)(F.a,{children:a("listRecoveredLabel")})]})},e.countryInfo.iso2)}))})},B=a(134),L=a(1235),D=a(1250),J=function(e){var t=e.value,a=e.formatter,r=e.ttip,c=e.fvalue;return Object(n.jsx)(o.a,{alignItems:B.a.Center,wrap:l.a,style:i.a.sapUiContentPadding,children:Object(n.jsx)(L.a,{state:a?a(c||t):"None",tooltip:t?"":r,children:g.localeNumber(t)})})},M=function(){var e=Object(s.a)().t;return[{Header:e("countryColumnHeader"),accessor:"countryInfo.flag",Cell:function(t){return Object(n.jsxs)(o.a,{alignItems:B.a.Center,wrap:l.a,style:i.a.sapUiContentPadding,children:[Object(n.jsx)("img",{alt:e("loadingFlag"),src:t.value,height:"30px",width:"45px"}),Object(n.jsx)(h.a,{level:O.a.H6,style:i.a.sapUiContentPadding,children:t.cell.row.original.country})]})}},{Header:e("casesColumnHeader"),accessor:"cases",Cell:function(e){return Object(n.jsx)(J,{formatter:g.covidCasesCountries,value:e.value})}},{Header:e("recoveredColumnHeader"),accessor:"recovered",Cell:function(t){return Object(n.jsx)(J,{formatter:g.covidRecovered,fvalue:100*t.value/t.cell.row.original.cases,value:t.value,ttip:e("recoveredTooltip")})}},{Header:e("deceasesColumnHeader"),accessor:"deaths",Cell:function(e){return Object(n.jsx)(J,{value:e.value})}}]},q=function(e){var t=e.items;return Object(n.jsx)(o.a,{fitContainer:!0,wrap:l.a,visibleRows:7,children:Object(n.jsx)(D.a,{data:t,columns:M(),scaleWidthMode:"Smart"})})},z=(a(55),{countriesCard:{width:window.innerWidth>=768?"27vw":"400px",height:"25.15rem",marginBottom:"1rem"},allCountriesCard:{width:window.innerWidth>=768?"40vw":"100vw",height:"27.35rem"}}),G=function(){var e=Object(s.a)().t,t=Object(r.useState)([]),a=Object(u.a)(t,2),c=a[0],i=a[1],b=Object(r.useState)([]),m=Object(u.a)(b,2),v=m[0],f=m[1];return Object(r.useEffect)((function(){0===c.length&&y.a.read("TopCountriesPerCasesSet").then((function(e){var t=e.data.map((function(e){return e}));f(t.slice(0,5)),i(e.data)}))}),[c.length]),Object(n.jsxs)(o.a,{wrap:l.a.Wrap,direction:H.a.Column,justifyContent:W.a.Center,alignItems:B.a.Center,children:[Object(n.jsx)(d.a,{heading:e("countriesCardHeader"),style:z.countriesCard,avatar:Object(n.jsx)(j.a,{name:"list"}),children:Object(n.jsx)(A,{items:v})}),Object(n.jsx)(d.a,{heading:e("allCountriesCardHeader"),style:z.allCountriesCard,avatar:Object(n.jsx)(j.a,{name:"table-view"}),children:Object(n.jsx)(q,{items:c})})]})};t.default=function(){var e=Object(s.a)().t;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(c.a,{title:e("helmet.title.dashboard.overview")}),Object(n.jsxs)(o.a,{justifyContent:W.a.SpaceAround,style:i.a.sapUiContentPadding,wrap:l.a.Wrap,children:[Object(n.jsx)(U,{}),Object(n.jsx)(G,{})]})]})}}}]);
//# sourceMappingURL=9.430153a1.chunk.js.map