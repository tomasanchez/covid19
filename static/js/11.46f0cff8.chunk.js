(this["webpackJsonpcovid19-pandemic-dashboard"]=this["webpackJsonpcovid19-pandemic-dashboard"]||[]).push([[11],{1307:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(3),i=a(135),c=a(154),s=a(881),o=a(129),l=a(294),u=a(43),d=a(1091),j=a(290),b=a(292),m=a(937),h=a(599),f=a(1093),v=a(185),O=a(187),g=a(892),C={countryCard:{width:"20rem"},continentItem:{height:"4rem"}},x=function(e){var t=e.items,a=e.loading,i=Object(s.a)().t,c=Object(r.useState)([]),l=Object(u.a)(c,2),d=l[0],x=l[1];return Object(r.useEffect)((function(){if(0===d.length){var e=t.map((function(e){return e}));x(e)}}),[d.length,t]),Object(n.jsxs)(b.a,{separators:h.a.Inner,children:[a&&Object(n.jsx)(f.a,{}),d.map((function(e,t){return Object(n.jsxs)(m.a,{datatype:e,description:i("description.population")+e.population,style:C.continentItem,info:g.a.localeNumber(e.todayCases),infoState:g.a.covidCasesContinent(e.todayCases),selected:"false","data-id":e.continent,type:"Inactive",children:[Object(n.jsx)(o.a,{children:Object(n.jsx)(v.a,{level:O.a.H4,children:i(e.continent)})}),Object(n.jsx)(j.a,{name:"group"})]},t)}))]})},p=a(1310),y=function(e){var t=e.items,a=e.loading,i=Object(r.useState)([]),c=Object(u.a)(i,2),o=c[0],l=c[1],d=Object(s.a)().t;return Object(r.useEffect)((function(){if(0===o.length){var e=t.map((function(e){return e}));e.sort((function(e,t){return t.cases-e.cases})),l(e)}}),[o.length,t]),Object(n.jsx)(p.a,{loading:a,chartConfig:{innerRadius:"45%",outerRadius:"80%",activeSegment:0,showActiveSegmentDataLabel:!0},dataset:o,dimension:{accessor:"continent",formatter:d},measure:{accessor:"cases",formatter:g.a.localeNumber},style:{width:"100%"},noAnimation:!1})},S=a(297),I=a(1248),w=a(1294),P=a(289),H=a(133),N={KPIstyles:{height:"6.5rem",width:"15rem",marginBottom:"1rem"}},E=function(e){var t=e.title,a=e.value,r=e.unit,i=e.valueState,c=e.arrow,o=e.subtitle,l=Object(s.a)().t;return Object(n.jsx)(I.a,{header:Object(n.jsx)(w.a,{arrowIndicator:c||"Up",subTitle:l(o),counter:l("counterKPI"),indicatorState:i||P.a.None,title:l(t),unit:l(r),value:g.a.localeNumber(a),valueState:i||P.a.None}),style:N.KPIstyles})},K=function(e){var t=e.items,a=t?t.reduce((function(e,t){return e+t.todayCases}),0):0,r=t?t.reduce((function(e,t){return e+t.todayRecovered}),0):0,i=t?t.reduce((function(e,t){return e+t.todayDeaths}),0):0,c=t?parseFloat(t.reduce((function(e,t){return e+t.criticalPerOneMillion}),0)).toFixed(2):0;return Object(n.jsxs)(o.a,{direction:H.a.Column,children:[Object(n.jsx)(E,{title:"casesKPITitle",unit:"casesKPIUnit",value:a}),Object(n.jsx)(E,{title:"criticalKPITitle",unit:"casesKPIUnit",value:c,valueState:P.a.Warning,subtitle:"criticalKPISubtitle"}),Object(n.jsx)(E,{title:"recoveredKPITitle",unit:"recoveredKPIUnit",value:r,valueState:P.a.Success}),Object(n.jsx)(E,{title:"deathsKPITTitle",unit:"deathsKPIUnit",value:i,valueState:P.a.Error})]})},T=a(1312),U=function(e){var t=e.items,a=Object(r.useState)([]),i=Object(u.a)(a,2),c=i[0],o=i[1],l=Object(s.a)().t;return Object(r.useEffect)((function(){if(0===c.length){var e=t.map((function(e){return e}));o(e)}}),[c.length,t]),Object(n.jsx)(T.a,{dataset:c,chartConfig:{gridHorizontal:!0,gridStroke:"var(--sapList_BorderColor)",gridVertical:!1,legendHorizontalAlign:"left",legendPosition:"bottom",resizeDebounce:250,xAxisVisible:!0,yAxisVisible:!1,zoomingTool:!1},dimensions:[{accessor:"continent",formatter:l}],measures:[{accessor:"activePerOneMillion",formatter:g.a.localeNumber,label:l("activeChartLabel")},{accessor:"deathsPerOneMillion",formatter:g.a.localeNumber,label:l("deathsChartLabel")},{accessor:"recoveredPerOneMillion",formatter:g.a.localeNumber,label:l("recoveredChartLabel")}],style:{width:"100%"}})},L={continentsCard:{width:"400px",height:"29.5rem",marginBottom:"1rem"}},R=function(){var e=Object(s.a)().t,t=Object(r.useState)(!1),a=Object(u.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(!1),l=Object(u.a)(o,2),b=l[0],m=l[1],h=Object(r.useState)([]),f=Object(u.a)(h,2),v=f[0],O=f[1];return Object(r.useEffect)((function(){0===v.length&&S.a.read("ContinentsSet").then((function(e){e.data.forEach((function(e){return e.population=g.a.localeNumber(e.population)})),O(e.data)}))}),[v.length]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{heading:e("continentsCardHeader"),avatar:Object(n.jsx)(j.a,{name:"globe"}),subheading:e(i?"continentsCardSubHeaderList":"continentsCardSubHeaderChart"),style:L.continentsCard,headerInteractive:!0,onHeaderClick:function(){m(!0),setTimeout((function(){m(!1),c(!i)}),1e3)},tooltip:e("continentsCardTol"),children:i?Object(n.jsx)(x,{items:v,loading:b}):Object(n.jsx)(y,{items:v,loading:b})}),Object(n.jsx)(K,{items:v}),Object(n.jsx)(d.a,{heading:e("continentsChartCardHeader"),subheading:e("continentsChartCadSubHeader"),style:L.continentsCard,avatar:Object(n.jsx)(j.a,{name:"bar-chart"}),children:Object(n.jsx)(U,{items:v})})]})},W=a(142),A=a(1249),F=a(921),k=a(44),M=a(65),z={listItem:{height:"4rem"},list:{height:"20rem"}},B=function(e){var t=e.items,a=Object(k.g)(),i=Object(s.a)().t,c=Object(r.useState)([]),d=Object(u.a)(c,2),j=d[0],f=d[1];Object(r.useEffect)((function(){if(0===j.length){var e=t.map((function(e){return e}));f(e)}}),[j.length,t]);return Object(n.jsx)(b.a,{style:z.list,separators:h.a.Inner,onItemClick:function(e){a.push(Object(M.a)("DETAILS",[{value:e.detail.item.dataset.id}]))},children:j.map((function(e){return Object(n.jsx)(m.a,{style:z.listItem,info:g.a.localeNumber(e.cases),infoState:g.a.covidCasesCountries(e.cases),image:e.countryInfo.flag,"data-id":e.country,children:Object(n.jsxs)(o.a,{wrap:l.a,direction:H.a.Column,children:[Object(n.jsx)(v.a,{level:O.a.H4,children:e.country}),Object(n.jsx)(A.a,{value:e.recovered/e.cases*100,valueState:g.a.covidRecovered(e.recovered/e.cases*100)}),Object(n.jsx)(F.a,{children:i("listRecoveredLabel")})]})},e.countryInfo.iso2)}))})},D=a(132),V=a(1007),J=a(1306),_=function(e){var t=e.value,a=e.formatter,r=e.ttip,i=e.fvalue;return Object(n.jsx)(o.a,{alignItems:D.a.Center,wrap:l.a,style:c.a.sapUiContentPadding,children:Object(n.jsx)(V.a,{state:a?a(i||t):"None",tooltip:t?"":r,children:g.a.localeNumber(t)})})},q=function(){var e=Object(s.a)().t;return[{Header:e("countryColumnHeader"),accessor:"countryInfo.flag",Cell:function(t){return Object(n.jsxs)(o.a,{alignItems:D.a.Center,wrap:l.a,style:c.a.sapUiContentPadding,children:[Object(n.jsx)("img",{alt:e("loadingFlag"),src:t.value,height:"30px",width:"45px"}),Object(n.jsx)(v.a,{level:O.a.H6,style:c.a.sapUiContentPadding,children:t.cell.row.original.country})]})}},{Header:e("casesColumnHeader"),accessor:"cases",Cell:function(e){return Object(n.jsx)(_,{formatter:g.a.covidCasesCountries,value:e.value})}},{Header:e("recoveredColumnHeader"),accessor:"recovered",Cell:function(t){return Object(n.jsx)(_,{formatter:g.a.covidRecovered,fvalue:100*t.value/t.cell.row.original.cases,value:t.value,ttip:e("recoveredTooltip")})}},{Header:e("deceasesColumnHeader"),accessor:"deaths",Cell:function(e){return Object(n.jsx)(_,{value:e.value})}}]},G=function(e){var t=e.items;return Object(n.jsx)(o.a,{fitContainer:!0,wrap:l.a,visibleRows:7,children:Object(n.jsx)(J.a,{data:t,columns:q(),scaleWidthMode:"Smart"})})},Q={countriesCard:{width:window.innerWidth>=768?"27vw":"400px",height:"25.15rem",marginBottom:"1rem"},allCountriesCard:{width:window.innerWidth>=768?"40vw":"95vw",height:"27.35rem"}},X=function(){var e=Object(s.a)().t,t=Object(r.useState)([]),a=Object(u.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),b=l[0],m=l[1];return Object(r.useEffect)((function(){0===i.length&&S.a.read("TopCountriesPerCasesSet").then((function(e){var t=e.data.map((function(e){return e}));m(t.slice(0,5)),c(e.data)}))}),[i.length]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{heading:e("countriesCardHeader"),style:Q.countriesCard,avatar:Object(n.jsx)(j.a,{name:"list"}),children:Object(n.jsx)(B,{items:b})}),Object(n.jsx)(d.a,{heading:e("allCountriesCardHeader"),style:Q.allCountriesCard,avatar:Object(n.jsx)(j.a,{name:"table-view"}),children:Object(n.jsx)(G,{items:i})})]})};t.default=function(){var e=Object(s.a)().t;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(i.a,{title:e("helmet.title.dashboard.overview")}),Object(n.jsxs)(o.a,{justifyContent:W.a.SpaceAround,style:c.a.sapUiContentPadding,wrap:l.a.Wrap,children:[Object(n.jsx)(R,{}),Object(n.jsx)(X,{})]})]})}},892:function(e,t,a){"use strict";var n=a(289),r={covidCasesContinent:function(e){var t=n.a.None;return e>=5e4?(t=n.a.Warning,e>=15e4&&(t=n.a.Error)):e>=25e3&&(t=n.a.Information),t},covidCasesCountries:function(e){var t=n.a.None;return e>=5e6?(t=n.a.Warning,e>=105e5&&(t=n.a.Error)):e>=1e6?t=n.a.Information:e<=5e5&&(t=n.a.Success),t},covidRecovered:function(e){var t=n.a.None;return e>=55?(t=n.a.Warning,e>=70&&(t=n.a.Information,e>=90&&(t=n.a.Success))):e<=45&&(t=n.a.Error),t},localeNumber:function(e){return Intl.NumberFormat().format(e)}};t.a=r}}]);
//# sourceMappingURL=11.46f0cff8.chunk.js.map